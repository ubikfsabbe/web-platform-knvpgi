"use strict";(self.webpackChunkmaquettage_dot=self.webpackChunkmaquettage_dot||[]).push([[363],{363:(U,u,i)=>{i.r(u),i.d(u,{DashboardModule:()=>y});var p=i(4466),m=i(1819),d=i(2687),f=i(590),l=i(433),t=i(1571),s=i(2392),c=i(6895),g=i(2216);function h(n,o){1&n&&(t.TgZ(0,"label",14),t._uU(1,"Equivalent temps plein "),t.qZA(),t._UZ(2,"input",15))}function b(n,o){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"currency"),t.qZA()()),2&n){const e=o.$implicit;t.xp6(2),t.hij(" ",e.name," "),t.xp6(2),t.hij(" ",e.brand.name," "),t.xp6(2),t.hij(" ",t.lcZ(7,3,e.amount)," ")}}function v(n,o){if(1&n&&(t.TgZ(0,"table",16)(1,"thead")(2,"tr")(3,"th",17),t._uU(4,"Intitul\xe9"),t.qZA(),t.TgZ(5,"th",17),t._uU(6,"Enseigne"),t.qZA(),t.TgZ(7,"th",17),t._uU(8,"Montant"),t.qZA()()(),t.TgZ(9,"tbody"),t.YNc(10,b,8,5,"tr",18),t.qZA()()),2&n){const e=t.oxw();t.xp6(10),t.Q6J("ngForOf",e.globalCosts)}}function Z(n,o){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"currency"),t.qZA()()),2&n){const e=o.$implicit;t.xp6(2),t.hij(" ",e.role.name," "),t.xp6(2),t.hij(" ",t.lcZ(5,2,e.amount)," ")}}function T(n,o){if(1&n&&(t.TgZ(0,"table",16)(1,"thead")(2,"tr")(3,"th",17),t._uU(4,"R\xf4le"),t.qZA(),t.TgZ(5,"th",17),t._uU(6,"Montant"),t.qZA()()(),t.TgZ(7,"tbody"),t.YNc(8,Z,6,4,"tr",18),t.qZA()()),2&n){const e=t.oxw();t.xp6(8),t.Q6J("ngForOf",e.averageSalaries)}}let A=(()=>{class n{constructor(e,a){this.fb=e,this.activeModal=a,this.saveIcon=d.EdJ,this.settingsForm=this.fb.group({fullTimeEquivalent:[0,l.kI.required]}),this.averageSalaries=[],this.globalCosts=[]}ngOnInit(){this.settingsForm.controls.fullTimeEquivalent.setValue(this.financialView.fullTimeEquivalent);const e=this.financialView.averageSalaries;e&&this.averageSalaries.push(...e);const a=this.financialView.globalCosts;a&&this.globalCosts.push(...a)}cancel(){this.activeModal.dismiss()}save(){this.activeModal.close()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.qu),t.Y36(s.Kz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-dashboard-settings"]],inputs:{financialView:"financialView"},decls:25,vars:3,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"container",3,"formGroup"],["ngbNav","",1,"nav-tabs"],["nav","ngbNav"],["ngbNavItem",""],["ngbNavLink",""],["ngbNavContent",""],[1,"mt-2",3,"ngbNavOutlet"],[1,"modal-footer"],["type","button",1,"btn",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[3,"icon"],["for","dashboard-settings-full-time-equivalent",1,"form-label"],["id","dashboard-settings-full-time-equivalent","type","text","formControlName","fullTimeEquivalent",1,"form-control"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"]],template:function(e,a){if(1&e&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return a.cancel()}),t.qZA()(),t.TgZ(2,"div",2)(3,"form",3)(4,"ul",4,5)(6,"li",6)(7,"button",7),t._uU(8,"G\xe9n\xe9ral"),t.qZA(),t.YNc(9,h,3,0,"ng-template",8),t.qZA(),t.TgZ(10,"li",6)(11,"button",7),t._uU(12,"Co\xfbts globaux"),t.qZA(),t.YNc(13,v,11,1,"ng-template",8),t.qZA(),t.TgZ(14,"li",6)(15,"button",7),t._uU(16,"Salaires moyens"),t.qZA(),t.YNc(17,T,9,1,"ng-template",8),t.qZA()(),t._UZ(18,"div",9),t.qZA()(),t.TgZ(19,"div",10)(20,"button",11),t.NdJ("click",function(){return a.cancel()}),t._uU(21,"Annuler"),t.qZA(),t.TgZ(22,"button",12),t.NdJ("click",function(){return a.save()}),t._UZ(23,"fa-icon",13),t._uU(24," Enregistrer "),t.qZA()()),2&e){const r=t.MAs(5);t.xp6(3),t.Q6J("formGroup",a.settingsForm),t.xp6(15),t.Q6J("ngbNavOutlet",r),t.xp6(5),t.Q6J("icon",a.saveIcon)}},dependencies:[c.sg,s.uN,s.Pz,s.nv,s.Is,s.Fh,s.tO,s.Dy,g.BN,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,c.H9]}),n})();var C=i(9646),_=i(7044);let S=(()=>{class n{constructor(){}getCurrentView(){return(0,C.of)(_.EQ[1])}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const q=[{path:"**",component:(()=>{class n{constructor(e,a){this.financialService=e,this.modalService=a,this.settingsIcon=d.gr5}ngOnInit(){this.financialService.getCurrentView().pipe((0,f.P)()).subscribe(e=>this._financialView=e)}get financialView(){return this._financialView}viewSettings(){this._financialView&&(this.modalService.open(A,{backdrop:"static",size:"lg"}).componentInstance.financialView=this._financialView)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S),t.Y36(s.FF))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-dashboard"]],decls:10,vars:8,consts:[[1,"d-flex"],[1,"align-self-baseline","me-2"],[1,"align-self-baseline","text-secondary"],[1,"btn","btn-primary","ms-auto",3,"click"],[3,"icon"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0)(1,"h1",1),t._uU(2),t.qZA(),t.TgZ(3,"span",2),t._uU(4),t.ALo(5,"date"),t.ALo(6,"date"),t.qZA(),t.TgZ(7,"button",3),t.NdJ("click",function(){return a.viewSettings()}),t._UZ(8,"fa-icon",4),t._uU(9," Param\xe8tres "),t.qZA()()),2&e&&(t.xp6(2),t.Oqu(null==a.financialView?null:a.financialView.name),t.xp6(2),t.AsE(" ",t.lcZ(5,4,null==a.financialView?null:a.financialView.start)," - ",t.lcZ(6,6,null==a.financialView?null:a.financialView.end)," "),t.xp6(4),t.Q6J("icon",a.settingsIcon))},dependencies:[g.BN,c.uU]}),n})()}];let D=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[m.Bz.forChild(q),m.Bz]}),n})(),y=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[p.m,D]}),n})()}}]);